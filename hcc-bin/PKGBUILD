# Maintainer: Samuel Bernard <samuel.bernard@gmail.com>

pkgname=hcc-bin
pkgver=3.3.0
pkgrel=1
pkgdesc='HCC: An Open Source, Optimizing C++ Compiler for Heterogeneous Compute'
arch=('x86_64')
url='https://github.com/RadeonOpenCompute/hcc'
license=('EULA')
depends=('hsa-rocr' 'libtinfo5')
provides=('hcc')
conflicts=('hcc')
_debfile='hcc_3.1.20114_amd64.deb'
source=("http://repo.radeon.com/rocm/apt/3.3/pool/main/h/hcc/$_debfile")
sha256sums=('76b10fe9f11a7ba892db31d6313fb83a62fe2054f1c9cdab6fc1323c9c9cd639')
options=('!strip')

package() {
  tar -C "$pkgdir" -xf data.tar.gz
  rename -- "-$pkgver" '' "$pkgdir/opt/rocm-$pkgver"
  find "$pkgdir" -type d -exec chmod 755 '{}' '+'
}
